<div class="tile-fw mss-row">
	<div class="container content-between tile-neutral-medium mss-row" ng-show="is_admin">
		<button class="tile tile-positive text " ng-click="cancelGame();">Cancel Game</button>
		<button class="tile tile-positive text " ng-click="console.log('test');">Declare Draw</button>
		<button class="tile tile-positive text " ng-click="console.log('test');">Declare Player Dead</button>
		<button class="tile tile-positive text " ng-click="console.log('test');">Remove Player</button>
		<div class="tile tile-positive text">Game Id: {{live_id}}</div>
	</div>
</div>

<div class="spacer"></div>

<div class="tiled">
	<div class="tile tile-lsh tile-lw mss-column content-start tile-transparent" ng-repeat="participant in participants | orderBy:participant.place">
		<div ng-show="participant.self" ng-init="change=0">

			<div class="tile tile-lh tile-lw">
				<div id="content_life" class="container mss-column tile-neutral-dark" ng-show="tab == 'Life'">
					<div class="mss-row tile-lw content-spaced">
						<div class="tile-msh tile-sw mss-column">
							<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-positive text': false}">+{{change}}</div>
							<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-positive text shown': change > 0}">+{{change}}</div>
							<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-negative text shown': change < 0}">{{change}}</div>
						</div>
						<div class="tile-msh tile-mw mss-column">
							<div class="tile tile-sh tile-neutral-medium text text-s">{{participant.player_name}}</div>
							<div class="tile tile-neutral-medium text">
								<div class="text-l ng-show="!participant.dead || !participant.place == 1">
									{{participant.life}}
								</div>
								<div ng-show="participant.dead" class="text">
									#<span class="text-l">{{participant.place}}</span>
								</div>
								<div ng-show="participant.place == 1">
									<span class="text-l">Win!</span>
								</div>
							</div>
						</div>
						<div class="tile-msh tile-sw mss-column">
							<!-- Lifelog -->
						</div>
					</div>
					<div class="mss-row">					
						<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change - 5; addToLifeChange(participant.player_token, change)">-5</button>
						<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change - 1; addToLifeChange(participant.player_token, change)">-1</button>
						<button class="tile tile-sw tile-sh tile-positive text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change + 1; addToLifeChange(participant.player_token, change)">+1</button>
						<button class="tile tile-sw tile-sh tile-positive text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change + 5; addToLifeChange(participant.player_token, change)">+5</button>
					</div>
				</div>
				
				<div id="content_tag" class="container mss-column tile-neutral-dark mss-column content-start" ng-show="tab == 'Tag'">
					<div class="mss-row wrap">
						<div ng-repeat="ptag in previous_tags | limitTo:5" class="tile auto-w padded-w tile-th text text-s tile-positive" ng-click="addFromPreviousTag(ptag.id)">
							{{ ptag.text }}
						</div>
					</div>
					<div class="tile tile-sh tile-lw mss-row content-center tile-transparent">
						<button class="tile tile-sw tile-sh tile-negative text" ng-click="addTag(tag_text, 'negative'); tag=''">-</button>
						<input class="tile tile-sh tile-neutral-light input text" type="text" ng-model="tag_text" placeholder="Tag text">
						<button class="tile tile-sw tile-sh tile-positive text" ng-click="addTag(tag_text, 'positive'); tag=''">+</button>
					</div>
					<div class="mss-row wrap">
						<div ng-repeat="tag in self_tags" class="tile auto-w padded-w tile-th text text-s tile-positive">
							{{ tag.text }}  <span class="tile tile-doth tile-dotw tile-negative" ng-click="deleteTag(tag.id)">x</span>
						</div>
					</div>
				</div>
	
				<div id="content_rate" class="container mss-column tile-neutral-dark" ng-show="tab == 'Rate'">
					Rate
				</div>
	
				<div id="content_death" class="container mss-column tile-negative" ng-show="tab == 'Death'">
					<button class="tile tile-mw tile-sh tile-very-negative text" ng-click="declareDead(participant.player_token)">Confirm</button>
					<div class="tile tile-neutral-medium text">
						#<span class="text-l">{{next_death}}</span>
					</div>
				</div>	
			</div>
			
			<div class="mss-row content-spaced">
				<button class="tile tile-sw tile-sh tile-neutral-medium text" ng-click="tab = 'Life'">+/-</button>
				<button class="tile tile-sw tile-sh tile-neutral-medium text" ng-click="tab = 'Tag'">#</button>
				<button class="tile tile-sw tile-sh tile-neutral-medium text" ng-click="tab = 'Rate'">@</button>
				<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="tab = 'Death'">ยง</button>
			</div>
			
		</div>
		
		<div ng-show="!participant.self" ng-init="change=0" class="tile tile-lh tile-lw">
			<div id="content_life" class="container mss-column tile-neutral-dark" ng-show="tab == 'Life'">
				<div class="mss-row tile-lw content-spaced">
					<div class="tile-msh tile-sw mss-column">
						<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-positive text': false}">+{{change}}</div>
						<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-positive text shown': change > 0}">+{{change}}</div>
						<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-negative text shown': change < 0}">{{change}}</div>
					</div>
					<div class="tile-msh tile-mw mss-column">
						<div class="tile tile-sh tile-neutral-medium text text-s">{{participant.player_name}}</div>
						<div class="tile tile-neutral-medium text">
							<div class="text-l ng-show="!participant.dead || !participant.place == 1">
								{{participant.life}}
							</div>
							<div ng-show="participant.dead" class="text">
								#<span class="text-l">{{participant.place}}</span>
							</div>
							<div ng-show="participant.place == 1">
								<span class="text-l">Win!</span>
							</div>
						</div>
					</div>
					<div class="tile-msh tile-sw mss-column">
						<!-- Lifelog -->
					</div>
				</div>
				<div class="mss-row">					
					<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change - 5; addToLifeChange(participant.player_token, change)">-5</button>
					<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change - 1; addToLifeChange(participant.player_token, change)">-1</button>
					<button class="tile tile-sw tile-sh tile-positive text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change + 1; addToLifeChange(participant.player_token, change)">+1</button>
					<button class="tile tile-sw tile-sh tile-positive text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change + 5; addToLifeChange(participant.player_token, change)">+5</button>
				</div>
			</div>
		</div>
	</div>
</div>