<div class="inline-tile-wrapper w-full" ng-show="is_admin">
	<div class="tile" ng-click="cancelGame();">Cancel Game</div>
	<div class="tile" ng-click="console.log('test');">Declare Draw</div>
	<div class="tile" ng-click="console.log('test');">Declare Player Dead</div>
	<div class="tile" ng-click="console.log('test');">Remove Player</div>
	<div class="tile w-1-3">Game Id: {{live_id}}</div>
</div>

<div class="inline-tile-wrapper dual-wrapper w-full">

	<div ng-repeat="participant in participants | orderBy:participant.place" class="tile w-1 h-x5 transparent" ng-init="change=0">
		<div id="content_life" class="tile inline-tile-live-wrapper w-full h-x4 dark" ng-show="tab == 'Life'">
			<div class="live-tile player-name sub-title">{{participant.player_name}}</div>
			<div class="live-tile current-life sub-title">
				<div class="giant" ng-show="!participant.dead || !participant.place == 1">
					{{participant.life}}
				</div>
				<div ng-show="participant.dead" class="sub-title large">
					#{{participant.place}}
				</div>
				<div ng-show="participant.place == 1" class="sub-title large">
					Win!
				</div>
			</div>
			<div class="live-tile alter-life">
				<div class="tile tile-sw tile-sh hidden large" ng-class="{'positive visible': change > 0}">+{{change}}</div>
				<div class="tile tile-sw tile-sh hidden large" ng-class="{'negative visible': change < 0}">{{change}}</div>
			</div>
			<div class="live-tile add-1 positive large" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change +1; addToLifeChange(participant.player_token, change)">+1</div>
			<div class="live-tile add-5 positive large" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change +5; addToLifeChange(participant.player_token, change)">+5</div>
			<div class="live-tile remove-1 negative large" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change -1; addToLifeChange(participant.player_token, change)">-1</div>
			<div class="live-tile remove-5 negative large" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change -5; addToLifeChange(participant.player_token, change)">-5</div>
			<div class="live-tile LL-1">L</div>
			<div class="live-tile LL-2">i</div>
			<div class="live-tile LL-3">f</div>
			<div class="live-tile LL-4">e</div>
			<div class="live-tile LL-5">l</div>
			<div class="live-tile LL-6">g</div>
		</div>
		<div id="content_tag" class="tile inline-tile-live-wrapper w-full h-x4 dark" ng-show="tab == 'Tag'">

			<div class="live-tile header w-full">
				Previous
			</div>
			<div class="live-tile tags inline-tile-tag-wrapper">
				<div ng-repeat="ptag in previous_tags | limitTo:3" class="tag" ng-click="addFromPreviousTag(ptag.id)">
					{{ ptag.text }}
				</div>
			</div>


			<div class="live-tile header w-full">
				Add
			</div>
						<div class="live-tile h-half" ng-click="addTag(tag_text, 'negative'); tag_text=''">
				<svg svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
					<polygon points="50,200 450,200 450,300 50,300" /> Negative
				</svg>
			</div>
			<input class="tile h-half w-1-3 tag-input" ng-model="tag_text" type="text" placeholder="Tag" autofocus>
			<div class="live-tile h-half" ng-click="addTag(tag_text, 'positive'); tag_text=''">
				<svg svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500">
					<polygon points="50,200 200,200 200,50 300,50 300,200 300,200 450,200 450,300 300,300 300,450 200,450 200,300 50,300" /> Positive
				</svg>
			</div>


			<div class="live-tile header w-full">
				This game
			</div>
			<div class="live-tile tags inline-tile-tag-wrapper">

				<div ng-repeat="tag in self_tags" class="tag" ng-class="{'negative': tag.polarity < 0; 'positive': tag.polarity > 0;}"
				 ng-click="deleteTag(tag.id)">
					{{ tag.text }}
				</div>
			</div>

		</div>
		<div id="content_rate" class="tile inline-tile-live-wrapper w-full h-x4 dark" ng-show="tab == 'Rate'">
			<div class="live-tile">Rating</div>
		</div>
		<div id="content_death" class="tile inline-tile-live-wrapper w-full h-x4 dark" ng-show="tab == 'Death'">
					
			<div class="live-tile current-place sub-title large">#{{next_death}}</div>
			<div class="live-tile confirm sub-title large" ng-click="declareDead(participant.player_token)">Confirm</div>
		</div>
		<div ng-show="participant.self" class="tile inline-tile-tab-wrapper w-full transparent">
			<div class="tab dark" ng-click="tab = 'Life'">Life</div>
			<div class="tab dark" ng-click="tab = 'Tag'">Tags</div>
			<div class="tab dark" ng-click="tab = 'Rate'">Rate</div>
			<div class="tab dark" ng-disabled="participant.dead || participant.place == 1" ng-click="tab = 'Death'">Conf.</div>
		</div>
	</div>

</div>



<div>
	<div class="tile tile-lsh tile-lw mss-column content-start tile-transparent" ng-repeat="participant in participants | orderBy:participant.place">
		<div ng-show="participant.self" ng-init="change=0">

			<div class="tile tile-lh tile-lw">
				<div id="content_life" class="container mss-column tile-neutral-dark" ng-show="tab == 'Life'">
					<div class="mss-row tile-lw content-spaced">
						<div class="tile-msh tile-sw mss-column">
							<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-positive text': false}">+{{change}}</div>
							<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-positive text shown': change > 0}">+{{change}}</div>
							<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-negative text shown': change < 0}">{{change}}</div>
						</div>
						<div class="tile-msh tile-mw mss-column">
							<div class="tile tile-sh tile-neutral-medium text text-s">{{participant.player_name}}</div>
							<div class="tile tile-neutral-medium text">
								<div class="text-l" ng-show="!participant.dead || !participant.place == 1">
									{{participant.life}}
								</div>
								<div ng-show="participant.dead" class="text">
									#<span class="text-l">{{participant.place}}</span>
								</div>
								<div ng-show="participant.place == 1">
									<span class="text-l">Win!</span>
								</div>
							</div>
						</div>
						<div class="tile-msh tile-sw mss-column">
							<!-- Lifelog -->
						</div>
					</div>
					<div class="mss-row">
						<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change - 5; addToLifeChange(participant.player_token, change)">-5</button>
						<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change - 1; addToLifeChange(participant.player_token, change)">-1</button>
						<button class="tile tile-sw tile-sh tile-positive text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change + 1; addToLifeChange(participant.player_token, change)">+1</button>
						<button class="tile tile-sw tile-sh tile-positive text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change + 5; addToLifeChange(participant.player_token, change)">+5</button>
					</div>
				</div>

				<div id="content_tag" class="container mss-column tile-neutral-dark mss-column content-start" ng-show="tab == 'Tag'">
					<div class="mss-row wrap">
						<div ng-repeat="ptag in previous_tags | limitTo:5" class="tile auto-w padded-w tile-th text text-s tile-positive" ng-click="addFromPreviousTag(ptag.id)">
							{{ ptag.text }}
						</div>
					</div>
					<div class="tile tile-sh tile-lw mss-row content-center tile-transparent">
						<button class="tile tile-sw tile-sh tile-negative text" ng-click="addTag(tag_text, 'negative'); tag=''">-</button>
						<input class="tile tile-sh tile-neutral-light input text" type="text" ng-model="tag_text" placeholder="Tag text">
						<button class="tile tile-sw tile-sh tile-positive text" ng-click="addTag(tag_text, 'positive'); tag=''">+</button>
					</div>
					<div class="mss-row wrap">
						<div ng-repeat="tag in self_tags" class="tile auto-w padded-w tile-th text text-s tile-positive">
							{{ tag.text }} <span class="tile tile-doth tile-dotw tile-negative" ng-click="deleteTag(tag.id)">x</span>
						</div>
					</div>
				</div>

				<div id="content_rate" class="container mss-column tile-neutral-dark" ng-show="tab == 'Rate'">
					Rate
				</div>

				<div id="content_death" class="container mss-column tile-negative" ng-show="tab == 'Death'">
					<button class="tile tile-mw tile-sh tile-very-negative text" ng-click="declareDead(participant.player_token)">Confirm</button>
					<div class="tile tile-neutral-medium text">
						#<span class="text-l">{{next_death}}</span>
					</div>
				</div>
			</div>

			<div class="mss-row content-spaced">
				<button class="tile tile-sw tile-sh tile-neutral-medium text" ng-click="tab = 'Life'">+/-</button>
				<button class="tile tile-sw tile-sh tile-neutral-medium text" ng-click="tab = 'Tag'">#</button>
				<button class="tile tile-sw tile-sh tile-neutral-medium text" ng-click="tab = 'Rate'">@</button>
				<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="tab = 'Death'">ยง</button>
			</div>

		</div>

		<div ng-show="!participant.self" ng-init="change=0" class="tile tile-lh tile-lw">
			<div id="content_life" class="container mss-column tile-neutral-dark" ng-show="tab == 'Life'">
				<div class="mss-row tile-lw content-spaced">
					<div class="tile-msh tile-sw mss-column">
						<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-positive text': false}">+{{change}}</div>
						<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-positive text shown': change > 0}">+{{change}}</div>
						<div class="tile tile-sw tile-sh hidden" ng-class="{'tile-negative text shown': change < 0}">{{change}}</div>
					</div>
					<div class="tile-msh tile-mw mss-column">
						<div class="tile tile-sh tile-neutral-medium text text-s">{{participant.player_name}}</div>
						<div class="tile tile-neutral-medium text">
							<div class="text-l" ng-show="!participant.dead || !participant.place == 1">
								{{participant.life}}
							</div>
							<div ng-show="participant.dead" class="text">
								#<span class="text-l">{{participant.place}}</span>
							</div>
							<div ng-show="participant.place == 1">
								<span class="text-l">Win</span>
							</div>
						</div>
					</div>
					<div class="tile-msh tile-sw mss-column">
						<!-- Lifelog -->
					</div>
				</div>
				<div class="mss-row">
					<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change - 5; addToLifeChange(participant.player_token, change)">-5</button>
					<button class="tile tile-sw tile-sh tile-negative text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change - 1; addToLifeChange(participant.player_token, change)">-1</button>
					<button class="tile tile-sw tile-sh tile-positive text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change + 1; addToLifeChange(participant.player_token, change)">+1</button>
					<button class="tile tile-sw tile-sh tile-positive text" ng-disabled="participant.dead || participant.place == 1" ng-click="change = change + 5; addToLifeChange(participant.player_token, change)">+5</button>
				</div>
			</div>
		</div>
	</div>
</div>